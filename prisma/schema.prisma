generator client {
  provider = "prisma-client"
  output   = "../lib/generated/prisma"
}

datasource db {
  provider  = "postgresql"
}

model GlobalSetting {
  id                  String   @id @default(uuid())
  companyName         String   @default("Richard Umzug")
  phone               String   @default("+43 660 123 4567")
  email               String   @default("info@richard-umzug.at")
  whatsapp            String?
  addressStreet       String   @default("Musterstraße 1")
  addressZip          String   @default("1010")
  addressCity         String   @default("Wien")
  openingHours        String   @default("Mo-Sa: 07:00 - 20:00 Uhr")
  primaryColor        String?  @default("#1e40af")
  secondaryColor      String?  @default("#0284c7")
  accentColor         String?  @default("#f97316")
  footerCopyrightText String?  @default("© 2025 Richard Umzug. Alle Rechte vorbehalten. | Umzüge in Österreich & Europa")
  attributionLabel    String?  @default("Albawab Alshamil Marketing")
  attributionUrl      String?  @default("https://albawab-marketing.com")
  createdAt           DateTime @default(now())
  updatedAt           DateTime @updatedAt
}

model Service {
  id          String   @id @default(uuid())
  title       String
  description String
  icon        String?  @default("Package")
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  cities      City[]   @relation("CityServices")
}

model City {
  id          String    @id @default(uuid())
  name        String
  slug        String    @unique
  distanceKm  Int       @default(0)
  introText   String?
  detailsText String?
  priceMin    Int?
  priceMax    Int?
  isActive    Boolean   @default(true)
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  services    Service[] @relation("CityServices")
}

model Testimonial {
  id          String   @id @default(uuid())
  name        String
  city        String
  rating      Int      @default(5)
  text        String
  date        DateTime @default(now())
  isFeatured  Boolean  @default(false)
  isPublished Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model LegalPage {
  id        String   @id @default(uuid())
  slug      String   @unique
  title     String
  content   String
  updatedAt DateTime @updatedAt
}

model Offer {
  id           String    @id @default(uuid())
  title        String
  description  String
  discountText String?
  validUntil   DateTime?
  isActive     Boolean   @default(true)
  createdAt    DateTime  @default(now())
  updatedAt    DateTime  @updatedAt
}

model Request {
  id               String        @id @default(uuid())
  status           RequestStatus @default(new)
  firstName        String
  lastName         String?
  email            String
  phone            String?
  fromCity         String?
  toCity           String?
  fromAddress      String?
  toAddress        String?
  fromFloor        String?
  toFloor          String?
  fromElevator     Boolean?
  toElevator       Boolean?
  city             String?
  address          String?
  floor            String?
  elevator         Boolean?
  propertyType     String?
  rooms            String?
  area             String?
  moveDate         DateTime?
  preferredDate    DateTime?
  fullClearance    Boolean?
  partialClearance Boolean?
  disposal         Boolean?
  cleaning         Boolean?
  packing          Boolean?
  assembly         Boolean?
  decluttering     Boolean?
  noParking        Boolean?
  message          String?       @db.VarChar(1000)
  createdAt        DateTime      @default(now())
  updatedAt        DateTime      @updatedAt
}

model Faq {
  id          String   @id @default(uuid())
  question    String
  answer      String
  isPublished Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

enum RequestStatus {
  new
  processing
  completed
  cancelled
}
